{
  "name": "karafriends",
  "version": "0.1.0",
  "private": true,
  "main": "build/prod/main_/index.js",
  "scripts": {
    "build-native-dev": "cargo-cp-artifact --npm cdylib native/index.node -- cross-env-shell \"cargo build --message-format json-render-diagnostics --manifest-path native/Cargo.toml ${CARGO_ARGS:-}\"",
    "build-native-prod": "cargo-cp-artifact --npm cdylib native/index.node -- cross-env-shell \"cargo build --message-format json-render-diagnostics --manifest-path native/Cargo.toml --release ${CARGO_ARGS:-}\"",
    "build-relay-dev": "relay-compiler",
    "build-relay-prod": "relay-compiler",
    "build-parcel-dev": "parcel build --dist-dir build/dev --no-optimize",
    "build-parcel-prod": "parcel build --dist-dir build/prod --no-source-maps",
    "build-dev": "concurrently \"yarn get-external-resources && yarn build-native-dev\" \"yarn build-relay-dev\" && yarn build-parcel-dev",
    "build-prod": "concurrently \"yarn get-external-resources && yarn build-native-prod\" \"yarn build-relay-prod\" && yarn build-parcel-prod",
    "run-dev": "cross-env NODE_ENV=development yarn _run-dev",
    "_run-dev": "yarn build-dev && concurrently --success !command-0 --kill-others \"parcel serve --target remocon --target renderer --dist-dir build/dev --port 3000\" \"wait-on http://127.0.0.1:3000/ && node ./electron.js build/dev/main_/index.js\"",
    "package-prod": "node packager.js",
    "get-external-resources": "node scripts/getExternalResources.mjs",
    "test:native": "cargo clippy --manifest-path native/Cargo.toml && cargo +nightly careful test --manifest-path native/Cargo.toml",
    "test:wdio": "cross-env KARAFRIENDS_DEV_PORT=\"$(ephemeral-port-reserve)\" yarn _test:wdio",
    "_test:wdio": "concurrently --success !command-0 --kill-others \"unbuffer -p parcel serve --target remocon --target renderer --dist-dir build/dev --port $KARAFRIENDS_DEV_PORT\" \"cross-env KARAFRIENDS_REMOCON_PORT=\\\"$(ephemeral-port-reserve)\\\" yarn _test:wdio:renderer && cross-env KARAFRIENDS_REMOCON_PORT=\\\"$(ephemeral-port-reserve)\\\" yarn _test:wdio:remocon\"",
    "_test:wdio:renderer": "wait-on http://127.0.0.1:$KARAFRIENDS_DEV_PORT/renderer/ && pnpify wdio run renderer.wdio.conf.ts",
    "_test:wdio:remocon": "concurrently --success !command-0 --kill-others \"node ./electron.js build/dev/main_/index.js\" \"wait-on http://127.0.0.1:$KARAFRIENDS_REMOCON_PORT/ && pnpify wdio run remocon.wdio.conf.ts\"",
    "postinstall": "husky"
  },
  "dependencies": {
    "@apollo/datasource-rest": "6.4.1",
    "@apollo/server": "4.11.2",
    "@apollo/utils.fetcher": "3.1.0",
    "@apollo/utils.keyvaluecache": "3.1.0",
    "@graphql-tools/schema": "10.0.14",
    "@parcel/transformer-react-refresh-wrap": "2.13.3",
    "@sentry/browser": "8.52.1",
    "@sentry/node": "7.120.3",
    "@types/react-fade-in": "2.0.2",
    "@types/react-swipeable": "5.2.0",
    "@types/user-agents": "1.0.4",
    "@types/wicg-mediasession": "1.1.8",
    "@types/youtube-player": "5.5.11",
    "bufferutil": "4.0.8",
    "classnames": "2.5.1",
    "color-convert": "2.0.1",
    "compression": "1.7.5",
    "cors": "2.8.5",
    "cubic-spline": "3.0.3",
    "dataloader": "2.2.3",
    "electron-is-dev": "3.0.1",
    "express": "4.21.2",
    "fft.js": "4.0.4",
    "format-duration": "3.0.2",
    "gl-vec2": "1.3.0",
    "graphql": "16.10.0",
    "graphql-subscriptions": "3.0.0",
    "graphql-ws": "6.0.3",
    "hls.js": "1.5.20",
    "kuromoji": "0.1.2",
    "kuroshiro": "1.2.0",
    "kuroshiro-analyzer-kuromoji": "1.1.0",
    "lodash": "4.17.21",
    "materialize-css": "1.0.0",
    "multicast-dns": "7.2.5",
    "mv": "2.1.1",
    "niconico": "1.2.0",
    "node-fetch": "3.3.2",
    "parcel-reporter-static-files-copy": "1.5.3",
    "polyline-normals": "2.0.2",
    "postcss": "8.5.1",
    "process": "0.11.10",
    "promise-retry": "2.0.1",
    "qrcode": "1.5.4",
    "react": "19.0.0",
    "react-dom": "19.0.0",
    "react-fade-in": "2.0.1",
    "react-icons": "5.4.0",
    "react-mobile-picker-scroll": "0.2.14",
    "react-relay": "18.2.0",
    "react-router": "7.1.3",
    "react-swipeable": "7.0.2",
    "regenerator-runtime": "0.14.1",
    "relay-runtime": "18.2.0",
    "supports-color": "10.0.0",
    "ts-invariant": "0.10.3",
    "tunnel": "0.0.6",
    "user-agents": "1.1.435",
    "utf-8-validate": "6.0.5",
    "uuid": "11.0.5",
    "wanakana": "5.3.1",
    "ws": "8.18.0",
    "yaml": "2.6.1",
    "youtube-player": "5.6.0"
  },
  "devDependencies": {
    "7zip-bin": "5.1.1",
    "@babel/core": "7.26.0",
    "@babel/preset-env": "7.26.7",
    "@babel/preset-react": "7.26.3",
    "@babel/runtime": "7.26.7",
    "@parcel/config-default": "2.13.3",
    "@parcel/core": "2.13.3",
    "@parcel/transformer-glsl": "2.13.3",
    "@parcel/transformer-inline-string": "2.13.3",
    "@parcel/transformer-sass": "2.13.3",
    "@parcel/transformer-worklet": "2.13.3",
    "@testing-library/dom": "10.4.0",
    "@testing-library/webdriverio": "3.2.1",
    "@types/audioworklet": "0.0.68",
    "@types/babel__core": "7",
    "@types/color-convert": "2.0.4",
    "@types/compression": "1.7.5",
    "@types/cors": "^2",
    "@types/express": "5.0.0",
    "@types/format-duration": "3.0.0",
    "@types/gl-vec2": "1.3.5",
    "@types/hls.js": "1.0.0",
    "@types/kuromoji": "0.1.3",
    "@types/lodash": "4.17.15",
    "@types/materialize-css": "1.0.14",
    "@types/node": "22.10.2",
    "@types/node-fetch": "2.6.12",
    "@types/promise-retry": "1.1.6",
    "@types/qrcode": "1.5.5",
    "@types/react": "19.0.8",
    "@types/react-dom": "19.0.3",
    "@types/react-relay": "18.2.0",
    "@types/relay-runtime": "18.2.5",
    "@types/tunnel": "^0",
    "@types/uuid": "^10",
    "@types/ws": "^8",
    "@wdio/cli": "9.7.2",
    "@wdio/local-runner": "9.7.2",
    "@wdio/mocha-framework": "9.7.2",
    "@yarnpkg/pnpify": "4.1.3",
    "babel-loader": "9.2.1",
    "babel-plugin-relay": "18.2.0",
    "cargo-cp-artifact": "0.1.9",
    "concurrently": "9.1.0",
    "cross-env": "7.0.3",
    "electron": "34.0.2",
    "electron-packager": "17.1.2",
    "glob": "11.0.1",
    "husky": "9.1.7",
    "lint-staged": "15.2.11",
    "node-loader": "2.1.0",
    "parcel": "2.13.3",
    "path-browserify": "^1.0.0",
    "prettier": "3.4.2",
    "raw-loader": "4.0.2",
    "relay-compiler": "18.2.0",
    "relay-compiler-language-typescript": "15.0.1",
    "relay-config": "12.0.1",
    "ts-loader": "9.5.2",
    "tslint": "6.1.3",
    "tslint-config-prettier": "1.18.0",
    "typescript": "5.7.3",
    "wait-on": "8.0.1",
    "wdio-electron-service": "7.3.1",
    "webdriverio": "9.7.2"
  },
  "lint-staged": {
    "**/*": "prettier --write --ignore-unknown",
    "**/*.(ts|tsx)": "tslint --fix",
    "**/*.rs": "rustfmt"
  },
  "packageManager": "yarn@4.6.0",
  "targets": {
    "main_": {
      "source": "src/main/index.ts",
      "context": "electron-main",
      "includeNodeModules": true
    },
    "preload": {
      "source": "src/preload/index.ts",
      "context": "electron-renderer",
      "includeNodeModules": true,
      "scopeHoist": true
    },
    "renderer": {
      "source": "src/renderer/index.html",
      "context": "browser"
    },
    "remocon": {
      "source": "src/remocon/index.html",
      "context": "browser"
    }
  },
  "relay": {
    "src": "src",
    "schema": "src/common/schema.graphql",
    "language": "typescript"
  },
  "alias": {
    "canvas": false
  },
  "@parcel/resolver-default": {
    "packageExports": true
  }
}
